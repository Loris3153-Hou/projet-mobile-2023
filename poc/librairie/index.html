<h2>Clique sur le carre pour le faire tourner :)</h2>

<div class="box"></div>

<style>
    body {
      background-color: #222;
      color: #ddd;
      font-size: 18px;
      line-height: 1.4;
      font-weight: 300;
      display: flex;
      align-items: flex-start;
      justify-content: center;
    }
    h1, h2 {
      color: white;
      font-weight: 400;
      margin-bottom: 0;
      font-weight: 0.6rem;
      position: absolute;
      bottom: 2rem;
      width: 100%;
      max-width: unset;
      left: 0;
      text-align: center;
    }

    .box {
      width: 100px;
      height: 100px;
      background: #88ce02;
      border-radius: 10px;
    }
</style>

<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.3/gsap.min.js" integrity="sha512-7Au1ULjlT8PP1Ygs6mDZh9NuQD0A5prSrAUiPHMXpU6g3UMd8qesVnhug5X4RoDr35x5upNpx0A6Sisz1LSTXA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.3/ScrollTrigger.min.js" integrity="sha512-LQQDtPAueBcmGXKdOBcMkrhrtqM7xR2bVrnMtYZ8ImAZhFlIb5xrMqQ6uZviyeSB+4mYj89ta8niiCIQM1Gj0w==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

<script>
    window.onload = function() {

        const box = document.querySelector('.box')

        ScrollTrigger.observe({
          type: "touch,pointer",
          onPress: (self) => {
            let maxGauche = box.getBoundingClientRect().left
            let maxDroite = box.getBoundingClientRect().left + box.getBoundingClientRect().width
            let maxHaut = box.getBoundingClientRect().top
            let maxBas = box.getBoundingClientRect().top + box.getBoundingClientRect().width

            if (maxGauche <= self.x && self.x <= maxDroite && maxHaut <= self.y && self.y <= maxBas) {
                gsap.to('.box', {
                    rotate: '+=360',
                    ease: 'back.out'
                })
            }
          }
        });
    }
</script>